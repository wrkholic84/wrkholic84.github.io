

<feed xmlns="http://www.w3.org/2005/Atom">
  <id>http://localhost:4000/</id>
  <title>COMPRINCIPIA+</title>
  <subtitle>Computer, Programming, Hacking, etc.</subtitle>
  <updated>2022-12-30T15:07:51+09:00</updated>
  <author>
    <name>wrkholic84</name>
    <uri>http://localhost:4000/</uri>
  </author>
  <link rel="self" type="application/atom+xml" href="http://localhost:4000/feed.xml"/>
  <link rel="alternate" type="text/html" hreflang="en"
    href="http://localhost:4000/"/>
  <generator uri="https://jekyllrb.com/" version="4.3.1">Jekyll</generator>
  <rights> © 2022 wrkholic84 </rights>
  <icon>/assets/img/favicons/favicon.ico</icon>
  <logo>/assets/img/favicons/favicon-96x96.png</logo>


  
  <entry>
    <title>[K8S] TroubleShooting</title>
    <link href="http://localhost:4000/posts/TroubleShooting/" rel="alternate" type="text/html" title="[K8S] TroubleShooting" />
    <published>2022-12-26T00:07:00+09:00</published>
  
    <updated>2022-12-26T00:07:00+09:00</updated>
  
    <id>http://localhost:4000/posts/TroubleShooting/</id>
    <content src="http://localhost:4000/posts/TroubleShooting/" />
    <author>
      <name>wrkholic84</name>
    </author>

  
    
    <category term="Development" />
    
    <category term="Kubernetes" />
    
  

  
    <summary>
      





      CoreDNS 문제

아무리 해도 DNS Query가 안되는 상황이 발생. kube-dns 재시작하니까 됨.

iMacPro:~$ kubectl delete pod -n kube-system -l k8s-app=kube-dns


Verifying that DNS is working correctly within your Kubernetes platform

Verify that DNS is working correctly within the Kubernetes cluster used by Component Pack for IBM Connections™.

About this task

Before you install Component Pack, you must verify that DNS is wo...
    </summary>
  

  </entry>

  
  <entry>
    <title>[K8S] Security</title>
    <link href="http://localhost:4000/posts/Security/" rel="alternate" type="text/html" title="[K8S] Security" />
    <published>2022-12-26T00:06:00+09:00</published>
  
    <updated>2022-12-26T00:06:00+09:00</updated>
  
    <id>http://localhost:4000/posts/Security/</id>
    <content src="http://localhost:4000/posts/Security/" />
    <author>
      <name>wrkholic84</name>
    </author>

  
    
    <category term="Development" />
    
    <category term="Kubernetes" />
    
  

  
    <summary>
      





      

    </summary>
  

  </entry>

  
  <entry>
    <title>[K8S] Database</title>
    <link href="http://localhost:4000/posts/Database/" rel="alternate" type="text/html" title="[K8S] Database" />
    <published>2022-12-26T00:05:00+09:00</published>
  
    <updated>2022-12-26T00:05:00+09:00</updated>
  
    <id>http://localhost:4000/posts/Database/</id>
    <content src="http://localhost:4000/posts/Database/" />
    <author>
      <name>wrkholic84</name>
    </author>

  
    
    <category term="Development" />
    
    <category term="Kubernetes" />
    
  

  
    <summary>
      





      PV, PVC 생성

iMacPro:~$ vi domain-volume.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: mysql-pv-volume
  labels:
    type: local
spec:
  storageClassName: manual
  capacity:
    storage: 10Gi
  accessModes:
    - ReadWriteOnce
  hostPath:
    path: "/mnt/data"
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-pv-claim
  namespace: domain-dev
spec:
  storageCla...
    </summary>
  

  </entry>

  
  <entry>
    <title>[K8S] Deployment, Service, Ingress</title>
    <link href="http://localhost:4000/posts/Deployment,-Service,-Ingress/" rel="alternate" type="text/html" title="[K8S] Deployment, Service, Ingress" />
    <published>2022-12-26T00:04:00+09:00</published>
  
    <updated>2022-12-26T00:04:00+09:00</updated>
  
    <id>http://localhost:4000/posts/Deployment,-Service,-Ingress/</id>
    <content src="http://localhost:4000/posts/Deployment,-Service,-Ingress/" />
    <author>
      <name>wrkholic84</name>
    </author>

  
    
    <category term="Development" />
    
    <category term="Kubernetes" />
    
  

  
    <summary>
      





      Namespace 생성

필요한 Namespace 를 생성

iMacPro:~$ k create ns domain-dev
iMacPro:~$ k create ns domain-prod


Deployment 생성

Container Repository 에서 이미지를 가져와 Demployment 생성

iMacPro:~$ k -n domain-dev create deploy domain-web --image=??? --port 8080 --replicas 2
iMacPro:~$ k -n domain-dev create deploy domain-api --image=??? --port 8080 --replicas 2


Service 생성

iMacPro:~$ k -n domain-dev expose de...
    </summary>
  

  </entry>

  
  <entry>
    <title>[K8S] Cluster Setup</title>
    <link href="http://localhost:4000/posts/Cluster-Setup/" rel="alternate" type="text/html" title="[K8S] Cluster Setup" />
    <published>2022-12-26T00:03:00+09:00</published>
  
    <updated>2022-12-26T00:03:00+09:00</updated>
  
    <id>http://localhost:4000/posts/Cluster-Setup/</id>
    <content src="http://localhost:4000/posts/Cluster-Setup/" />
    <author>
      <name>wrkholic84</name>
    </author>

  
    
    <category term="Development" />
    
    <category term="Kubernetes" />
    
  

  
    <summary>
      





      운영자 PC에 클러스터 설정

1.1. kubectl 설치 (Mac 기준)

iMacPro:~$ brew install kubectl


1.2. Master 노드에 개발용 인증서 생성 (optional)

ubuntu@master:/etc/kubernetes/pki$ sudo openssl genrsa -out domain.com.ca.key 2048
ubuntu@master:/etc/kubernetes/pki$ sudo openssl req -x509 -new -nodes -key ./domain.com.ca.key -subj "/CN=domain.com" -addext "subjectAltName = DNS:domain.com,DNS:domain.com.default,DNS:domain.com.d...
    </summary>
  

  </entry>

</feed>


